<!DOCTYPE html>
<html ng-app="app" class="ht-full">
  <head>
    <meta charset="utf-8">
    <title>Accessible Color Palette</title>
    <link href="assets/fonts/ss-gizmo/ss-gizmo.css" rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700|Montserrat' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="css/colorpicker.css">
    <link rel="stylesheet" type="text/css" href="css/i.css">
  </head>
  <body ng-controller="appController" class="ht-full pos-rel ng-cloak" ng-class="{ 'of-hidden': isIntroActive }" ng-cloak>
    <article id="intro" class="tac ht-full bg-green" ng-show="isIntroActive">
      <div class="pam vam text-white">
        <h1 class="man caps">Accessible Colors</h1>
        <p class="mw-800 center">A tool to help designers explore beautiful, readable color palettes based on <a href="http://webaim.org/blog/wcag-2-0-and-link-colors/" alt="WCAG Guidelines" class="ease link link-green">WCGA Guidelines</a> of text and background contrast ratios.
          Brought to you with love from <a href="https://medium.com/salesforce-ux" alt="Salesforce on Medium" class="ease link">Salesforce UX.</a>
        </p>
        <div class="mvl center bg-screenIcon bg-screenIcon-ns bg-screenIcon-rs"></div>
        <button class="pvm phl mvm f4 fw-bold caps center btn-outline btn-white ease" ng-click="activateStep1(); slideToElement('section1', 900);">Get Started</button>
      </div>
    </article>

    <article id="section1" class="bg-dark dt-ns wi-full" ng-class="{ 'ht-full': !pinToolbar }" ng-show="isSection1Active">
      <div class="dtc-ns vac">
        <header class="pam tac text-white mw-950 center border-bottom-gray">
          <h2>Set Up your Canvas and Text</h2>
          <p>
            Enter in a background color, and determine the styling of your text. Accessible text colors will be generated with WCAG's recommend contrast ratio of 4.5 for small text or 3.1 for large text (18 pixels+ or 14 pixels+ bold).
          </p>
        </header>
        <form accept-charset="utf-8" class="mtm cf">
          <section class="pam text-white mw-950 center cf">
            <div class="prl-ns tal span_3_of_12 fl">
              <label for="backgroundColor" class="mvs db">Background Color</label>
              <input colorpicker colorpicker-position="top" id="backgroundColor" class="pas f4 wi-full text-white bg-dark input ease" type="text" name="textfield" placeholder="Type hex or rgb value" ng-model="backgroundColor.hex" />
            </div>
            <div class="prl-ns tal span_3_of_12 fl">
              <label for="fontFamily" class="mvs db">Font-Family</label>
              <div class="pos-rel">
                <select name="fontFamily" id="fontFamily" class="pvs phm f4 wi-full text-white bg-dark select ease" ng-model="fontFamily" ng-options="font.alias for font in allFontFamilies"></select>
              </div>
            </div>
            <div class="prl wi-half-s span_2_of_12-ns fl">
              <label for="fontSize" class="mvs db">Font-Size (px)</label>
              <input id="fontSize" class="pas f4 wi-full text-white bg-dark input ease" type="text" name="textfield" ng-model="fontSize" />
            </div>
            <div class="prl-ns wi-half-s span_2_of_12-ns fl">
              <label for="fontWeight" class="mvs db">Font-Weight</label>
              <div class="pos-rel">
                <select name="fontWeight" id="fontWeight" class="pvs phm f4 wi-full text-white bg-dark select ease" ng-model="fontWeight" ng-options="value for value in fontWeights"></select>
              </div>
            </div>
            <div class="span_2_of_12 fl">
              <label for="WCAGlevel" class="mvs db pos-rel" ng-mouseenter="showWCAGToolTip = true" ng-mouseleave="showWCAGToolTip = false">
                <div class="pas dn db-ns text-dark pos-abs pos-WCAGToolTip-ns bg-white br-m" ng-if="showWCAGToolTip">
                  Most of the time, AA is good enough. However some companies and government institutions must meet the AAA level of conformance.
                  <span class="pvm db">
                    <a href="http://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html" class="ease link-drk">Learn more at W3C</a>
                  </span>
                  <span class="arrow-down-ns pos-arrow-down-ns"></span>
                </div>
                WCAG Standard
                <span class="dn di-ns ss-info pos-abs right-0"></span>
              </label>
              <div class="pos-rel">
                <select name="WCAGlevel" id="WCAGlevel" class="pvs phm f4 wi-full text-white bg-dark select ease" ng-model="WCAGlevel" ng-options="grade for grade in accessibilityGrades"></select>
              </div>
            </div>
          </section>

          <!-- TODO: make less hacky -->
          <div ng-class="{ 'ht-pinToolbar': pinToolbar }"></div>

          <section id="pinToolbar" ng-class="{ 'pinToolbar z-above pos-abs wi-full': pinToolbar }">
            <div class="phm ptm mw-toolbar center cf">
              <section class="span_4_of_12 opacity-0 fl l-slideOutFadeInAni" ng-show="pinToolbar && pinToolbar">
                <div class="wi-20-s span_3_of_12-ns ht-75 pos-rel fl ease" style="background-color: {{currentTextColor.hex}};">
                  <span class="arrow-right-ns pos-arrow-right-ns ease" style="border-left: 10px solid {{currentTextColor.hex}};"></span>
                </div>

                <a href="javascript:void(0)" id="copyHexValue" data-clipboard-text="{{currentTextColor.hex}}" title="Click to copy hex color" class="phm tac wi-40-s span_5_of_12-ns ht-75 fl bg-light-gray ease" ng-click="showInstructions2(currentTextColor)" ng-show="colorModel.label === 'hex'">
                  <span ng-class="{ 'animated-delay1 bounceIn': animateToolbar }" class="lht-75">{{currentTextColor.hex}}</span>
                </a>

                <a href="javascript:void(0)" id="copyRgbValue" data-clipboard-text="rbg({{currentTextColor.rgb}})" title="Click to copy hex color" class="phm tac wi-40-s span_5_of_12-ns ht-75 fl bg-light-gray ease" ng-click="showInstructions2(currentTextColor)" ng-show="colorModel.label === 'rgb'">
                  <span ng-class="{ 'animated-delay2 bounceIn': animateToolbar }" class="lht-75">rgb({{currentTextColor.rgb}})</span>
                </a>
                <div class="phm wi-40-s span_4_of_12-ns ht-75 fl bg-light-gray ease pos-rel">
                  <select name="colorModel" id="colorModel" class="plm prl f4 caps lht-75 select-colorModel ease" ng-model="colorModel" ng-options="model.label for model in colorModels"></select>
                </div>
              </section>

              <div id="userContentTextArea" class="tal mw-950 center ease" ng-class="{ 'phm-ns': !pinToolbar, 'span_5_of_12 fl': pinToolbar }">
                <label for="userContent" class="mvs text-white db" ng-if="!pinToolbar">Editable Text</label>
                <input style="font-family: {{fontFamily.name}}; font-size: {{fontSize}}px; font-weight: {{fontWeight}}; background-color: {{backgroundColor.hex}}; color: {{currentTextColor.hex}}" class="ht-75 tac wi-full bg-white ban" ng-class="{ 'br-s': !pinToolbar }" ng-model="userContent"></input>
              </div>

              <section class="span_3_of_12 fr opacity-0 r-slideOutFadeInAni cf" ng-if="pinToolbar">
                <a href="javascript:void(0)" class="phm pvs tac wi-half ht-75 bg-light-gray fl dt">
                  <div class="dtc vac">
                    <span class="f5 db">Current Ratio</span>
                    <span>{{currentTextColor.currentRatio}}</span>
                    <span class="mls text-green fa fa-check" ng-if="currentTextColor.pass"></span><span class="assistive-text" ng-if="currentTextColor.pass">Pass</span>
                    <span class="mls text-red fa fa-ban" ng-if="!currentTextColor.pass"></span><span class="assistive-text" ng-if="!currentTextColor.pass">Fail</span>
                  </div>
                </a>
                <a href="javascript:void(0)" class="phm pvs tac wi-half ht-75 bg-light-gray fr dt">
                  <div class="dtc vac">
                    <span class="db f5">Goal Ratio</span>
                    <span ng-class="{ 'animated-delay1 bounceIn': updatedWCAGlevel }">{{WCAGlevel}} - {{currentRatio}}</span>
                  </div>
                </a>
              </section>
            </div>
            <section class="phm mw-toolbar center fadeInAni cf" ng-show="pinToolbar">
              <ul class="pan dn db-ns fl-ns list-plain list-horz">
                <li class="mhxs caps fw-light color-filter filter circle border-fade-circle border-thick border-white br-all-filter bg-all-filter li-item-js" data-filter="all">
                  <a href="javascript:void(0)" title="Show all" class="db">
                    <p class="f5 caps tac fw-700">All</p>
                  </a>
                </li>
                <li ng-repeat="color in appFactory.colorCategories" class="mhxs caps fw-light color-filter filter circle border-fade-circle border-thick border-white {{ 'br-' + color.name + '-filter'}} {{'bg-' + color.name + '-filter'}} li-item-js" data-filter=".category-{{color.name}}">
                  <a href="javascript:void(0)" title="Filter by {{color.name}}" class="db">
                    <p class="f5 caps tac fw-700 opacity-0">{{color.name}}</p>
                  </a>
                </li>
              </ul>
              <div class="mtm f4 text-white fr-ns">
                <a href="javascript:void(0)" class="phm mrm dib pos-rel btn-secondary bg-darker ease" ng-click="slideToElement('section1', 400)">
                  <span class="mrs text-green fa fa-refresh"></span>
                  Start Over
                </a>
                <a href="javascript:void(0)" class="phm dib btn-secondary bg-darker ease" ng-click="toggleInfoPanel();">Who Made this</a>
              </div>
            </section>
          </section>

          <button class="pvm phl mvl db caps f4 fw-bold center btn-primary ease" ng-click="slideToElement('userContentTextArea', 900); getCurrentRatio(); getPassingColors(); showInstructions1(); activatePalette();" ng-class="{ 'fadeOutAni': pinToolbar, 'fadeInAni': !pinToolbar }">Generate Color Palette</button>
        </form>
      </div>
    </article>

    <article id="section2" class="ht-vh bg-dark fadeInAni" ng-show="isSection2Active">
      <ul id="Container" class="pln ptn prn man list-plain bg-dark" ng-class="{ 'pbxx': !lowOptions }">
        <li ng-repeat="color in passingColors" class="bmn-colorVariations span_4_of_12-dib span_2_of_12-ns span_1_of_12-x ht-colorVariations ht-colorVariations-ns tac caps mix category-{{color.colorParent}} border-fade pointer-cursor" ng-class="{ 'border-selected': color === currentTextColor, 'border-fade': color !== currentTextColor && color !== currentCopiedColor }" ng-click="setTextColor(color);" data-my-order="{{$index + 1}}" style="background-color: {{color.hex}}">
          <div class="dt wi-full ht-full">
            <a href="javascript:void(0)">
              <span class="assistive-text" ng-show="colorModel.label === 'hex'">{{color.hex}}</span>
              <span class="assistive-text" ng-show="colorModel.label === 'rgb'">{{color.rgb}}</span>
            </a>
            <div class="dtc vac">
              <span class="f3 fadeInAni fa fa-check {{color.textColor}}" ng-if="color === currentTextColor && color !== currentCopiedColor"></span>
              <span class="f3 fadeInAni {{color.textColor}}" ng-if="color === currentCopiedColor">Copied!</span>
            </div>
            <div class="pbs tal dtc vab" ng-if="color !== currentCopiedColor && color !== currentTextColor">
              <div class="pls text-cursor fadeInHover" ng-show="colorModel.label === 'hex'" ng-click="preventDefault($event)">HEX: {{color.hex}}</div>
              <div class="pls text-cursor fadeInHover" ng-show="colorModel.label === 'rgb'" ng-click="preventDefault($event)">RGB: {{color.rgb}}</div>
            </div>
          </div>
        </li>
      </ul>

      <div class="pbxx tac bg-dark" ng-class="{ 'fadeInAni': lowOptions, 'fadeOutAni': fadeOutSection }" ng-hide="!lowOptions">
        <div class="wi-500 center">
          <div ng-show="AAAlevel">
          <h4 class="text-white">Want more color options?</h4>
            <p class="text-white">Changing the WCAG level to AA is less strict and will give you more color options.</p>
            <button class="pvm phl mvm f4 fw-bold db center btn-outline btn-white ease" ng-click="updateWCAGlevel(); destroyMixItUp()">Try it</button>
          </div>
          <div ng-show="smallFontSize && fontWeight < 700 && !AAAlevel">
          <h4 class="text-white">Want more color options?</h4>
            <p class="text-white">Increase font size to 18px OR make font weight bold. Doing one of those will make the text 'Large Text' and give you more color options.</p>
            <p class="tal text-white">
              <input type="checkbox" name="updateFS" ng-model="updateFS" class="checkbox" /><span class="plm">Change Font Size to 18px</span>
            </p>
            <p class="tal text-white">
              <input type="checkbox" name="updateFW" ng-model="updateFW" class="checkbox" /><span class="plm">Make font bold</span>
            </p>
            <button class="pvm phl mvl f4 fw-bold db center btn-outline btn-white ease" ng-click="updateTextInputs(); destroyMixItUp();">Try it</button>
          </div>
        </div>
      </div>
    </article>


    <!-- ====================================
    Side Bar slide out from Left of Window
    ======================================= -->
    <slide-out-left class="text-white leftPanel bg-panel z-top">
    <section class="pvm phl">
      <a href="javascript:void(0)" class="paxs f2 dib ss-delete ease pointer-cursor" ng-click="toggleInfoPanel()" tabindex="{{infoPanelTabIndex}}"></a>
      <h1 class="ptl f4">Brought to you with love by <a href="http://www.salesforce.com/ux" class="mtxs dib ease link" tabindex="{{infoPanelTabIndex}}">Salesforce UX</a></h1>
      <p>
        It is important to design meaningful products that work for everyone. We’ve come up with this tool to help designers ensure their color choices allow users to read their content based on <a href="http://webaim.org/blog/wcag-2-0-and-link-colors/" alt="WCAG Guidelines" class="ease link" tabindex="{{infoPanelTabIndex}}">WCGA Guidelines</a>.
      </p>
      <p>
        Thanks for checking out our tool. We’d love your feedback.
      </p>
      <div class="mtx cf">
        <div class="tac fl">
          <img width="50" height="50" src="assets/img/donielle.jpeg" alt="Donielle Berg" class="circle avatar" />
          <p class="man">Donielle Berg</p>
          <p class="man f5">UX Engineer</p>
          <p class="man f5"><a href="http://donielleberg.com/" class="ease link" tabindex="{{infoPanelTabIndex}}">donielleberg.com</a></p>
        </div>
        <div class="tac fr">
          <img width="50" height="50" src="assets/img/adrian.jpeg" alt="Adrian Rapp" class="circle avatar" />
          <p class="man">Adrian Rapp</p>
          <p class="man f5">Product Designer</p>
          <p class="man f5"><a href="http://adrianrapp.com/" class="ease link" tabindex="{{infoPanelTabIndex}}">adrianrapp.com</a></p>
        </div>
      </div>
      <footer class="mbm span_10_of_12 tac fix-footer">
        <a href="https://github.com/donnieberg/accessible-color-palette" title="Github" class="mrl dib bg-icon bg-github-icon" tabindex="{{infoPanelTabIndex}}"></a>
        <a href="https://twitter.com/SalesforceUX" title="Twitter" class="mrl dib bg-icon bg-twitter-icon" tabindex="{{infoPanelTabIndex}}"></a>
        <a href="https://dribbble.com/salesforce" title="Dribble" class="mrl dib bg-icon bg-dribble-icon" tabindex="{{infoPanelTabIndex}}"></a>
        <a href="https://medium.com/salesforce-ux" title="Medium" class="dib bg-icon bg-medium-icon" tabindex="{{infoPanelTabIndex}}"></a>
      </footer>
    </section>
    </slide-out-left>

    <!-- ====================================
    Full Screen Modal - Instructions 1
    ======================================= -->
    <article class="dt wi-full ht-full pos-fix top-0 bg-blur z-above fadeInAni" ng-if="isInstructions1Active">
      <div class="dtc vac tac text-white">
        <h3>
          Pick a color to set the text color
        </h3>
        <p>
          Click on a color square to preview text color in the upper toolbar. <br>Click on the Hex or RGB value in the toolbar to copy to your clipboard.
        </p>
        <button class="pvm phl mvm f4 fw-bold db center btn-outline btn-white ease" ng-click="hideInstructions1()">Got it</button>
      </div>
    </article>

    <!-- ====================================
    Full Screen Modal - Instructions 2
    ======================================= -->
    <article class="dt wi-full ht-full pos-fix top-0 z-above fadeInAni" ng-class="{ 'fadeOutAni': fadeOutInstructions }" style="background-color: rgba({{currentCopiedColor.rgb}},.95)" ng-if="isInstructions2Active">
      <div class="f3 dtc vac tac {{currentCopiedColor.textColor}}">
        <h2 ng-if="colorModel.label === 'hex'">{{currentCopiedColor.hex}}</h2>
        <h2 ng-if="colorModel.label === 'rgb'">rgb({{currentCopiedColor.rgb}})</h2>
        <p>Copied to Clipboard!</p>
      </div>
    </article>

    <!-- ====================================
    Full Screen Modal - Instructions 3
    ======================================= -->
    <article class="dt wi-full ht-full pos-fix top-0 bg-blur z-above fadeInAni" ng-if="isInstructions3Active">
      <div class="dtc vac tac text-white">
        <p class="wi-500 center">
          {{instructions3message}}
        </p>
        <button class="pvm phl mvm f4 fw-bold db center btn-outline btn-white ease" ng-click="hideInstructions3()">Got it</button>
      </div>
    </article>

    <script type="text/javascript" src="js/contrastCalculator.js"></script>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="js/vendor/ZeroClipboard.min.js"></script>

    <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="bower_components/angular-scroll/angular-scroll.min.js"></script>
    <script type="text/javascript" src="bower_components/angular-animate/angular-animate.min.js"></script>
    <script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
    <script type="text/javascript" src="bower_components/mixitup/build/jquery.mixitup.min.js"></script>
    <script type="text/javascript" src="bower_components/tinycolor/tinycolor.js"></script>
    <script type="text/javascript" src="js/vendor/bootstrap-colorpicker-module.js"></script>

    <script type="text/javascript" src="js/app.js"></script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-57741905-1', 'auto');
ga('send', 'pageview');

</script>

  </body>
</html>
