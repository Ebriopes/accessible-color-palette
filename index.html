<!DOCTYPE html>
<html ng-app="app" class="ht-full">
  <head>
    <meta charset="utf-8">
    <title>Accessible Color Palette</title>
    <link href="assets/fonts/ss-gizmo/ss-gizmo.css" rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400|Montserrat' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="css/colorpicker.css">
    <link rel="stylesheet" type="text/css" href="css/i.css">
  </head>
  <body ng-controller="appController" class="ht-full pos-rel ng-cloak" ng-class="{ 'of-hidden': isIntroActive }" ng-cloak>

    <article id="intro" class="tac ht-full bg-green" ng-show="isIntroActive">
      <div class="pam vam text-white">
        <h1 class="man caps">Accessible Colors</h1>
        <p class="mw-900 center">Brought to you with love from Salesforce UX. It is important to design meaningful products that work for everyone. Weâ€™ve come up with this tool to help designers ensure their color choices allow users to read their content based on <a href="http://webaim.org/blog/wcag-2-0-and-link-colors/" alt="WCAG Guidelines" class="ease link link-green">WCGA Guidelines</a> of text and background contrast ratios.
        </p>
        <div class="mvl center bg-screenIcon bg-screenIcon-ns bg-screenIcon-rs"></div>
        <button class="pvm phl mvm f4 fw-bold caps center btn-outline btn-white ease" ng-click="activateStep1(); slideToElement('section1', 900);">Get Started</button>
      </div>
    </article>

    <article id="section1" class="bg-dark dt-ns wi-full" ng-show="isSection1Active" ng-class="{ 'ht-full-ns': !isSection2Active }">
      <div class="dtc-ns vac">
        <header class="pam tac text-white mw-900 center border-bottom-gray">
          <h2>Set Up your Canvas and Text</h2>
          <p>
            Enter in a background color, and determine the styling of your text. An accessible color palette will then be generated with WCAG's recommend contrast ratio of 4.5 for small text or 3.1 for large text<br/> (18 pixels+ or 14 pixels+ bold).
          </p>
        </header>
        <form accept-charset="utf-8" class="pam mtm text-white mw-900 center cf">
          <section class="cf">
            <div class="prl-ns tal span_3_of_12 fl">
              <label for="backgroundColor" class="mvs db">Background Color</label>
              <input colorpicker colorpicker-position="top" id="backgroundColor" class="pas f4 wi-full text-white bg-dark input ease" type="text" name="textfield" placeholder="Type hex or rgb value" ng-model="backgroundColor.hex" />
            </div>
            <div class="prl-ns tal span_3_of_12 fl">
              <label for="fontFamily" class="mvs db">Font Family</label>
              <div class="pos-rel">
                <select name="fontFamily" id="fontFamily" class="pvs phm f4 wi-full text-white bg-dark select ease" ng-model="fontFamily" ng-options="font.alias for font in allFontFamilies"></select>
              </div>
            </div>
            <div class="prl wi-half-s span_2_of_12-ns fl">
              <label for="fontSize" class="mvs db">Font-Size (px)</label>
              <input id="fontSize" class="pas f4 wi-full text-white bg-dark input ease" type="text" name="textfield" ng-model="fontSize" />
            </div>
            <div class="prl-ns wi-half-s span_2_of_12-ns fl">
              <label for="fontWeight" class="mvs db">Font Weight</label>
              <div class="pos-rel">
                <select name="fontWeight" id="fontWeight" class="pvs phm f4 wi-full text-white bg-dark select ease" ng-model="fontWeight" ng-options="value for value in fontWeights"></select>
              </div>
            </div>
            <div class="span_2_of_12 fl">
              <label for="WCAGlevel" class="mvs db">WCAG Standard</label>
              <div class="pos-rel">
                <select name="WCAGlevel" id="WCAGlevel" class="pvs phm f4 wi-full text-white bg-dark select ease" ng-model="WCAGlevel" ng-options="grade for grade in accessibilityGrades" ng-change="getCurrentRatio()"></select>
              </div>
            </div>
          </section>
          <div id="userContentTextArea" class="tal" ng-class="{ 'fadeOutAni': pinToolbar, 'fadeInAni': !pinToolbar }">
            <label for="userContent" class="mvs db">Editable Text</label>
            <textarea style="font-family: {{fontFamily.name}}; font-size: {{fontSize}}px; font-weight: {{fontWeight}}; background-color: {{backgroundColor.hex}};" class="ptm ptl-ns tac wi-full ht-75 bg-white ban br-s" ng-model="userContent"></textarea>
          </div>
          <button class="pvm phl mvl db caps f4 fw-bold center btn-primary ease" ng-click="slideToElement('userContentTextArea', 900); getCurrentRatio(); getPassingColors(); activatePalette(); showInstructions1()">Generate Color Palette</button>
        </form>
      </div>
    </article>


    <article id="section2" class="ht-vh bg-dark fadeInAni" ng-show="isSection2Active">
      <section id="toolbar" class="ptl pos-abs wi-full" ng-class="{ 'fix-toolbar z-above': pinToolbar }">
        <div class="pbl pan-ns center cf" ng-class="{ 'mw-900': !isSection2Active, 'mw-toolBar': isSection2Active }">
          <section class="span_3_of_12-ns fl-ns">
            <div class="wi-third span_3_of_12-ns ht-75 pos-rel fl ease" style="background-color: {{currentTextColor.hex}};">
              <span class="arrow-right-ns pos-arrow-right-ns ease" style="border-left: 10px solid {{currentTextColor.hex}};"></span>
            </div>
            <a href="javascript:void(0)" id="copyHexValue" data-clipboard-text="{{currentTextColor.hex}}" title="Click to copy hex color" class="phm tac wi-third span_4_of_12-ns ht-75 fl bg-light-gray ease" ng-click="showInstructions2(currentTextColor, currentTextColor.hex)">
              <span ng-class="{ 'animated-delay1 bounceIn': animateToolbar }" class="lht-75">{{currentTextColor.hex}}</span>
            </a>
            <a href="javascript:void(0)" id="copyRgbValue" data-clipboard-text="rbg({{currentTextColor.rgb.r}},{{currentTextColor.rgb.g}},{{currentTextColor.rgb.b}})" title="Click to copy hex color" class="phm tac wi-third span_5_of_12-ns ht-75 fl bg-light-gray ease" ng-click="showInstructions2(currentTextColor, 'rgb(' + currentTextColor.rgb.r + ', ' + currentTextColor.rgb.g + ', ' + currentTextColor.rgb.b + ')' )">
              <span ng-class="{ 'animated-delay2 bounceIn': animateToolbar }" class="lht-75">rgb({{currentTextColor.rgb.r}},{{currentTextColor.rgb.g}},{{currentTextColor.rgb.b}})</span>
            </a>
          </section>
          <textarea class="tac ht-75" style="color: {{currentTextColor.hex}}; font-family: {{fontFamily.name}}; font-size: {{fontSize}}px; font-weight: {{fontWeight}}; background-color: {{backgroundColor.hex}};" ng-class="{ 'span_6_of_12 fl': isSection2Active, 'wi-full': !isSection2Active }">{{userContent}}</textarea>
          <section class="span_3_of_12 dt">
            <a href="javascript:void(0)" class="phm pvs tac wi-half ht-75 dtc vac bg-gray">
              <span class="f5 db">Current Ratio</span>
              {{currentTextColor.currentRatio}}
              <span class="mls text-green fa fa-check" ng-if="currentTextColor.pass"></span><span class="assistive-text" ng-if="currentTextColor.pass">Pass</span>
              <span class="mls text-red fa fa-ban" ng-if="!currentTextColor.pass"></span><span class="assistive-text" ng-if="!currentTextColor.pass">Fail</span>
            </a>
            <a href="javascript:void(0)" class="phm pvs tac wi-half ht-75 dtc vac bg-gray">
              <span class="db f5">Goal Ratio</span>
              {{WCAGlevel}} - {{currentRatio}}
            </a>
          </section>
          <section class="cf">
            <ul class="pan dn db-ns fl-ns list-plain list-horz">
              <li id="allColorsFilter" class="mrxs caps fw-light text-white border-white filter circle li-item-js" data-filter="all">
                <a href="javascript:void(0)" title="Filter by" class="db">
                  <p class="caps tac">All</p>
                </a>
              </li>
              <li ng-repeat="color in appFactory.colorCategories" class="mhxs caps fw-light border-white filter circle {{color.textColor}} li-item-js" style="background-color: {{color.hex}}" data-filter=".category-{{color.name}}">
                <a href="javascript:void(0)" title="Filter by">
                  <p class="assistive-text">{{color.name}}</p>
                </a>
              </li>
            </ul>
            <div class="mtm f4 text-white fr-ns">
              <a href="javascript:void(0)" class="pvs phm mrm dib pos-rel btn-secondary bg-darker ease" ng-click="slideToElement('section1', 400)">
                <span class="mrs text-green fa fa-refresh"></span>
                Start Over
              </a>
              <a href="javascript:void(0)" class="pvs phm dib btn-secondary bg-darker ease" ng-click="toggleInfoPanel();">Who Made this</a>
            </div>
          </section>
        </div>
      </section>

      <ul id="Container" class="pln ptn prn pbxx man list-plain list-horz bg-dark cf">
        <li ng-repeat="color in allColors" ng-if="color.pass" ng-click="setColor($event, color); isDarkColor(color.hex)" class="dt span_4_of_12-dib span_2_of_12-ns span_1_of_12-x ht-colorVariations ht-colorVariations-ns tac caps fl mix category-{{color.colorParent}} border-fade pointer-cursor" ng-class="{ 'animated pulse': color === currentCopiedColor,  'border-selected': color === currentTextColor, 'border-fade': color !== currentTextColor  }" data-my-order="{{$index + 1}}" style="background-color: {{color.hex}}">
          <a href="javascript:void(0)">
            <span class="assistive-text">HEX: {{color.hex}}</span>
          </a>
          <span class="f3 dtc vac fadeInAni fa fa-check {{textColor}}" ng-if="color === currentTextColor && color !== currentCopiedColor"></span>
          <span class="f3 dtc vac fadeInAni {{textColor}}" ng-if="color === currentCopiedColor">Copied!</span>
        </li>
      </ul>
    </article>


    <!-- ====================================
    Side Bar slide out from Left of Window
    ======================================= -->
    <slide-out-left class="text-white leftPanel bg-panel z-top">
    <section class="pvm phl">
      <a href="javascript:void(0)" class="paxs f2 dib ss-delete ease pointer-cursor" ng-click="toggleInfoPanel()" tabindex="{{infoPanelTabIndex}}"></a>
      <h1 class="ptl f4">Brought to you with love by <a href="http://www.salesforce.com/ux" class="mtxs dib ease link link-navy" tabindex="{{infoPanelTabIndex}}">Salesforce UX</a></h1>
      <p>
        It is important to design meaningful products that work for everyone. Weâ€™ve come up with this tool to help designers ensure their color choices allow users to read their content based on <a href="http://webaim.org/blog/wcag-2-0-and-link-colors/" alt="WCAG Guidelines" class="ease link link-navy" tabindex="{{infoPanelTabIndex}}">WCGA Guidelines</a>.
      </p>
      <p>
        Thanks for checking out our tool. Weâ€™d love your feedback.
      </p>
      <div class="mtx cf">
        <div class="tac fl">
          <img width="50" height="50" src="assets/img/donielle.jpeg" alt="Donielle Berg" class="circle avatar" />
          <p class="man">Donielle Berg</p>
          <p class="man f5">UX Engineer</p>
          <p class="man f5"><a href="http://donielleberg.com/" class="ease link link-navy" tabindex="{{infoPanelTabIndex}}">donielleberg.com</a></p>
        </div>
        <div class="tac fr">
          <img width="50" height="50" src="assets/img/adrian.jpeg" alt="Adrian Rapp" class="circle avatar" />
          <p class="man">Adrian Rapp</p>
          <p class="man f5">Product Designer</p>
          <p class="man f5"><a href="http://adrianrapp.com/" class="ease link link-navy" tabindex="{{infoPanelTabIndex}}">adrianrapp.com</a></p>
        </div>
      </div>
      <footer class="mbm span_10_of_12 tac fix-footer">
        <a href="https://github.com/donnieberg/accessible-color-palette" title="Github" class="mrl dib bg-icon bg-github-icon" tabindex="{{infoPanelTabIndex}}"></a>
        <a href="https://twitter.com/SalesforceUX" title="Twitter" class="mrl dib bg-icon bg-twitter-icon" tabindex="{{infoPanelTabIndex}}"></a>
        <a href="https://dribbble.com/salesforce" title="Dribble" class="mrl dib bg-icon bg-dribble-icon" tabindex="{{infoPanelTabIndex}}"></a>
        <a href="https://medium.com/salesforce-ux" title="Medium" class="dib bg-icon bg-medium-icon" tabindex="{{infoPanelTabIndex}}"></a>
      </footer>
    </section>
    </slide-out-left>

    <!-- ====================================
    Full Screen Modal - Instructions 1
    ======================================= -->
    <article class="dt wi-full ht-full pos-fix top-0 bg-blur z-above fadeInAni" ng-if="isInstructions1Active">
      <div class="dtc vac tac text-white">
        <h3>
          Pick a color to set the text color
        </h3>
        <p>
          Clicking on a color square will set the preview text color. <br>Then you can copy the Hex or RGB values to your clipboard.
        </p>
        <button class="pvm phl mvm f4 fw-bold db center btn-outline btn-white ease" ng-click="hideInstructions1()">Got it</button>
      </div>
    </article>

    <!-- ====================================
    Full Screen Modal - Instructions 2
    ======================================= -->
    <article class="dt wi-full ht-full pos-fix top-0 z-above fadeInAni" style="background-color: rgba({{currentTextColor.rgb.r}}, {{currentTextColor.rgb.g}}, {{currentTextColor.rgb.b}}, .95)" ng-show="isInstructions2Active">
      <div class="f3 dtc vac tac {{modalTextColor}}">
        <p>{{currentCopiedColorValue}}</p>
        <p>Copied to Clipboard!</p>
      </div>
    </article>

    <script type="text/javascript" src="js/contrastCalculator.js"></script>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="js/vendor/ZeroClipboard.min.js"></script>

    <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="bower_components/angular-scroll/angular-scroll.min.js"></script>
    <script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
    <script type="text/javascript" src="bower_components/mixitup/build/jquery.mixitup.min.js"></script>
    <script type="text/javascript" src="bower_components/tinycolor/tinycolor.js"></script>
    <script type="text/javascript" src="js/vendor/bootstrap-colorpicker-module.js"></script>

    <script type="text/javascript" src="js/app.js"></script>

  </body>
</html>
