<!DOCTYPE html>
<html ng-app="app" class="ht-full">
  <head>
    <meta charset="utf-8">
    <title>Accessible Color Palette</title>
    <link href="assets/fonts/ss-gizmo/ss-gizmo.css" rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400|Montserrat' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="css/colorpicker.css">
    <link rel="stylesheet" type="text/css" href="css/i.css">
  </head>
  <body ng-controller="appController" class="ht-full pos-rel ng-cloak" ng-class="{ 'of-hidden': isIntroActive }" ng-cloak>

    <article id="intro" class="pam ht-full bg-green dt wi-full tac" ng-show="isIntroActive">
      <div class="dtc vac text-white">
        <h1 class="man caps">Accessible Colors</h1>
        <p>This tool helps ensure your designs meet <a href="http://webaim.org/blog/wcag-2-0-and-link-colors/" class="ease link link-green">WCAG accessibility standards </a>for text color contrast ratios.</p>
        <div class="mvl bg-screenIcon bg-screenIcon-ns bg-screenIcon-rs center"></div>
        <button class="db pvm phl mvm f4 fw-bold caps center btn-outline btn-white ease" ng-click="activateStep1(); slideToElement('section1', 900);">Get Started</button>
      </div>
    </article>

    <article id="section1" class="ht-full bg-dark dt-ns wi-full" ng-show="isSection1Active">
      <div class="dtc-ns vac">
        <div class="mw-800 center">
          <header class="pam border-bottom-gray">
            <h2 class="tac text-white">Set Up your Canvas and Text</h2>
            <p class="tac text-white">
              Enter in a background color, and determine the styling of your text. An accessible color palette will then be generated with WCAG's recommend contrast ratio of 4.5 for small text or 3.1 for large text<br/> (18 pixels+ or 14 pixels+ bold).
            </p>
          </header>

          <section class="pam mtm">
            <form accept-charset="utf-8" class="text-white center">
              <section class="span_12_of_12 cf">
                <div class="prl-ns tal span_3_of_12 fl">
                  <label for="backgroundColor" class="mvs db">Background Color</label>
                  <input colorpicker id="backgroundColor" class="pas f4 wi-full input text-white bg-dark ease" type="text" name="textfield" placeholder="Type hex or rgb value" ng-model="backgroundColor.hex" />
                </div>
                <div class="prl-ns tal span_4_of_12 fl">
                  <label for="fontFamily" class="mvs db">Font Family</label>
                  <div class="pos-rel">
                    <select name="fontFamily" id="fontFamily" class="pvs phm f4 wi-full select text-white bg-dark ease" ng-model="fontFamily" ng-options="font.alias for font in allFontFamilies"></select>
                  </div>
                </div>
                <div class="prl wi-half span_3_of_12 fl pos-rel">
                  <label for="fontSize" class="mvs db">Font-Size (px)</label>
                  <input id="fontSize" class="pas f4 wi-full input text-white bg-dark ease" type="text" name="textfield" ng-model="fontSize" />
                </div>
                <div class="wi-half span_2_of_12 fl">
                  <label for="fontWeight" class="mvs db">Font Weight</label>
                  <div class="pos-rel">
                    <select name="fontWeight" id="fontWeight" class="pvs phm f4 wi-full select text-white bg-dark ease" ng-model="fontWeight" ng-options="value for value in fontWeights"></select>
                  </div>
                </div>
              </section>
              <div class="mtl tal pos-rel">
                <label for="userContent" class="mvs db">Editable Text</label>
                <textarea style="font-family: {{fontFamily.name}}; font-size: {{fontSize}}px; font-weight: {{fontWeight}}; background-color: {{backgroundColor.hex}};" class="ptl wi-full min-ht-85 bg-white tac ban br-s" ng-model="userContent"></textarea>
              </div>
              <button class="db pvm phl mvl caps f4 fw-bold center btn-primary ease" ng-click="getCurrentRatio(); getPassingColors(); slideToElement('section2', 900); activatePalette(); showInstructions1()">Generate Color Palette</button>
            </form>
          </section>
        </div>
      </div>
    </article>


    <article id="section2" class="bg-dark ht-vh" ng-show="isSection2Active">
      <article class="ptl phm " ng-class="{ 'fix-toolbar z-above': pinToolbar }">
        <div class="cf mw-2100 center">
          <section class="toolbar-1ns toolbar-1x br-s ht-toolbar-ns dt-ns cf">
            <div class="pam dtc-ns vac default-cursor wpan_4_of_12" style="color: {{currentTextColor.hex}}; font-family: {{fontFamily.name}}; font-size: {{fontSize}}px; font-weight: {{fontWeight}}; background-color: {{backgroundColor.hex}};">
              {{userContent}}
            </div>
            <div class="fl cf-ns dtc-ns swatch swatch-ns pos-rel ease" style="background-color: {{currentTextColor.hex}};">
              <span class="arrow-left pos-arrow-left ease" style="border-right: 10px solid {{currentTextColor.hex}};"></span>
            </div>
            <a href="javascript:void(0)" id="copyHexValue" data-clipboard-text="{{currentTextColor.hex}}" title="Copy hex color" class="phm hex hex-ns fl cf-ns dtc-ns vac bg-light-gray ease" ng-mouseenter="hoverColorHex={ 'color': currentTextColor.hex, 'transition': 'all .2s ease' }" ng-mouseleave="hoverColorHex={ 'color': 'black' }" ng-click="showInstructions2(currentTextColor, currentTextColor.hex)">
              <span ng-class="{ 'animated-delay1 bounceIn': animateToolbar }" ng-style="hoverColorHex" class="pos-rel top-20 pos-static-ns">{{currentTextColor.hex}}</span>
            </a>
            <a href="javascript:void(0)" id="copyRgbValue" data-clipboard-text="rbg({{currentTextColor.rgb.r}},{{currentTextColor.rgb.g}},{{currentTextColor.rgb.b}})" title="Copy hex color" class="rgb rgb-ns fl cf-ns dtc-ns vac bg-light-gray ease" ng-mouseenter="hoverColorRgb={ 'color': currentTextColor.hex, 'transition': 'all .2s ease' }" ng-mouseleave="hoverColorRgb={ 'color': 'black' }" ng-click="showInstructions2(currentTextColor, 'rgb(' + currentTextColor.rgb.r + ', ' + currentTextColor.rgb.g + ', ' + currentTextColor.rgb.b + ')' )">
              <span ng-class="{ 'animated-delay2 bounceIn': animateToolbar }" ng-style="hoverColorRgb" class="pos-rel top-20 pos-static-ns">rgb({{currentTextColor.rgb.r}},{{currentTextColor.rgb.g}},{{currentTextColor.rgb.b}})</span>
            </a>
            <div class="pam wi-half-s fl cf-ns dtc-ns vac tac bg-gray">
              <span class="db f5">Contrast Ratio</span>
              {{currentTextColor.currentRatio}}
              <span class="mls text-green fa fa-check" ng-if="currentTextColor.pass"></span>
              <span class="mls text-red fa fa-ban" ng-if="!currentTextColor.pass"></span>
            </div>
            <div class="pam wi-half-s fr cf-ns dtc-ns vac bg-gray"><span class="db f5">WCAG Standard</span>{{WCAGlevel}} - {{currentRatio}}</div>
          </section>

          <section class="toolbar-2 toolbar-2ns toolbar-2x">
            <div class="mrl tal text-white dib pos-rel">
              <label for="colorFilter" class="mvs f5 db">Filter by Color</label>
              <a href="javascript:void(0)" id="colorFilter" class="pvs plm bg-colorWheel pr-icon db f4 wi-full pos-rel select ease" ng-click="toggleColorFilters()">
                <img src="assets/img/colors.png" alt="color-wheel" width="18" height="18" class="mrxs">
                All Colors
              </a>
              <span class="arrow-up pos-arrow-up pos-arrow-up-x" ng-if="showColorFilters"></span>
            </div>
            <div class="mrl tal dib">
              <label for="WCAGlevel" class="mvs f5 db text-white">Filter by WCAG Standard</label>
              <div class="pos-rel">
                <select name="WCAGlevel" id="WCAGlevel" class="pvs phm f4 wi-full select text-white bg-dark ease" ng-model="WCAGlevel" ng-options="grade for grade in accessibilityGrades" ng-change="getCurrentRatio()"></select>
              </div>
            </div>
          </section>
          <section class="toolbar-3 toolbar-3ns toolbar-3x">
            <a href="javascript:void(0)" class="mrl pvs phm f4 text-white pos-rel btn-secondary bg-darker ease" ng-click="slideToElement('section1', 400)">
              <span class="mrs text-green fa fa-refresh"></span>
              Start Over
            </a>
            <a href="javascript:void(0)" class="f4 pvs phm text-white btn-secondary bg-darker ease" ng-click="toggleInfoPanel();">About This Tool</a>
          </section>
        </div>
        <ul class="tac list-plain list-horz df slideToggle no-border-box" ng-class="{ 'mh-auto bg-colorFilters pam': showColorFilters, 'mh-none': !showColorFilters }">
          <li id="allColorsFilter" class="caps fw-light df-child text-white filter no-border-box" ng-class="{ 'border-white': showColorFilters }" data-filter="all">
            <a href="javascript:void(0)" class="vam">
              <p class="mvm">All Colors</p>
            </a>
          </li>
          <li ng-repeat="color in appFactory.colorCategories" class="caps fw-light text-white df-child filter" ng-class="{ 'border-white': showColorFilters }" data-filter=".category-{{color.name}}" style="background-color: {{color.hex}}">
            <a href="javascript:void(0)">
              <p class="mvm">{{color.name}}</p>
            </a>
          </li>
        </ul>
      </article>
      <!--
      ** TODO make this less hacky
      -->
      <article class="ht-toolbarContainer" ng-class="{ 'dn': !pinToolbar, 'opacity-0': pinToolbar }"></article>
      <ul id="Container" class="pan man list-plain list-horz bg-dark">
        <li ng-repeat="color in allColors" ng-if="color.pass" ng-click="setColor($event, color)" class="pos-rel ht-colorVariations ht-colorVariations-ns ht-colorVariations-x span_4_of_12-dib span_2_of_12-ns span_3_of_12-x tac caps mix category-{{color.colorParent}} border-fade dt" ng-class="{ 'animated pulse': color === currentCopiedColor,  'border-selected': color === currentTextColor, 'border-fade': color !== currentTextColor  }" data-my-order="{{$index + 1}}" style="background-color: {{color.hex}}">
          <span class="assistive-text">HEX: {{color.hex}}</span>
          <span class="pos-check pos-check-ns pos-check-x f3 text-white fa fa-check fadeInAni" ng-if="color === currentTextColor && color !== currentCopiedColor"></span>
          <span class="pos-copied pos-copied-ns pos-copied-x text-white fadeInAni" ng-if="color === currentCopiedColor">Copied!</span>
        </li>
      </ul>
      <!--
      ** TODO make this less hacky
      -->
      <div class="pbxx bg-dark"></div>
    </article>


    <!-- ====================================
    Side Bar slide out from Left of Window
    ======================================= -->
    <slide-out-left class="text-white leftPanel bg-panel z-top">
    <section class="pvm phl">
      <span class="paxs f2 ss-delete dib ease pointer-cursor" ng-click="toggleInfoPanel()"></span>
      <h1 class="f4">Brought to you with love by Salesforce UX</h1>
      <p>
        It is important to design meaningful products that work for everyone. We’ve come up with this tool to help designers ensure their color choices allow users to read their content.
      </p>
      <p>
        Thanks for checking out our tool. We’d love your feedback.
      </p>
      <div class="mtx cf">
        <div class="fl tac">
          <img width="50" height="50" src="assets/img/donielle.jpeg" alt="Donielle Berg" class="circle avatar" />
          <p class="man">Donielle Berg</p>
          <p class="man f5">UX Engineer</p>
          <p class="man f5"><a href="http://donielleberg.com/" class="ease link link-navy">donielleberg.com</a></p>
        </div>
        <div class="fr tac">
          <img width="50" height="50" src="assets/img/adrian.jpeg" alt="Adrian Rapp" class="circle avatar" />
          <p class="man">Adrian Rapp</p>
          <p class="man f5">Product Designer</p>
          <p class="man f5"><a href="http://adrianrapp.com/" class="ease link link-navy">adrianrapp.com</a></p>
        </div>
      </div>
      <footer class="mbx fix-footer">
        <a href="https://github.com/donnieberg/accessible-color-palette" alt="Github" class="prl">
          <span class="f5 link link-navy ease">Github</span>
        </a>
        <a href="https://twitter.com/SalesforceUX" alt="Twitter" class="prl">
          <span class="f5 link link-navy ease">Twitter</span>
        </a>
        <a href="https://medium.com/salesforce-ux" alt="Medium">
          <span class="f5 link link-navy ease">Medium</span>
        </a>
      </footer>
    </section>
    </slide-out-left>

    <!-- ====================================
    Full Screen Modal - Instructions 1
    ======================================= -->
    <article class="dt pos-fix top-0 wi-full ht-full bg-blur z-above fadeInAni" ng-if="isInstructions1Active">
      <div class="dtc vac tac text-white">
        <h3>
          Pick a color to set the text color
        </h3>
        <p>
          Clicking on a color square will set the preview text color. <br>Then you can copy the Hex or RGB values to your clipboard.
        </p>
        <button class="db pvm phl mvm f4 fw-bold center btn-outline btn-white ease" ng-click="hideInstructions1()">Got it</button>
      </div>
    </article>

    <!-- ====================================
    Full Screen Modal - Instructions 2
    ======================================= -->
    <article class="dt pos-fix top-0 wi-full ht-full z-above fadeInAni" style="background-color: rgba({{currentTextColor.rgb.r}}, {{currentTextColor.rgb.g}}, {{currentTextColor.rgb.b}}, .95)" ng-if="isInstructions2Active">
      <div class="dtc vac tac {{modalTextColor}}">
        <p>
          {{currentCopiedColorValue}}
        </p>
        <p>
          Copied to Clipboard!
        </p>
        <button class="db pvm phl mvm f4 fw-bold center btn-outline ease {{modalBtnColor}}" ng-click="hideInstructions2()">Got it</button>
      </div>
    </article>

    <script type="text/javascript" src="js/contrastCalculator.js"></script>
    <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="js/vendor/ZeroClipboard.min.js"></script>

    <script type="text/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="bower_components/angular-scroll/angular-scroll.min.js"></script>
    <script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
    <script type="text/javascript" src="bower_components/mixitup/build/jquery.mixitup.min.js"></script>
    <script type="text/javascript" src="bower_components/tinycolor/tinycolor.js"></script>
    <script type="text/javascript" src="js/vendor/bootstrap-colorpicker-module.js"></script>

    <script type="text/javascript" src="js/app.js"></script>

  </body>
</html>
